<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <title>12_regexp_2.utf8</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="libs/reveal.js-3.3.0.1/css/reveal.css"/>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="libs/reveal.js-3.3.0.1/css/theme/white.css" id="theme">


  <!-- some tweaks to reveal css -->
  <style type="text/css">
    .reveal h1 { font-size: 2.0em; }
    .reveal h2 { font-size: 1.5em;  }
    .reveal h3 { font-size: 1.25em;	}
    .reveal h4 { font-size: 1em;	}

    .reveal .slides>section,
    .reveal .slides>section>section {
      padding: 0px 0px;
    }



    .reveal table {
      border-width: 1px;
      border-spacing: 2px;
      border-style: dotted;
      border-color: gray;
      border-collapse: collapse;
      font-size: 0.7em;
    }

    .reveal table th {
      border-width: 1px;
      padding-left: 10px;
      padding-right: 25px;
      font-weight: bold;
      border-style: dotted;
      border-color: gray;
    }

    .reveal table td {
      border-width: 1px;
      padding-left: 10px;
      padding-right: 25px;
      border-style: dotted;
      border-color: gray;
    }


  </style>

    <style type="text/css">code{white-space: pre;}</style>

    <link rel="stylesheet" href="style.css"/>

<!-- Printing and PDF exports -->
<script id="paper-css" type="application/dynamic-css">

/* Default Print Stylesheet Template
   by Rob Glazebrook of CSSnewbie.com
   Last Updated: June 4, 2008

   Feel free (nay, compelled) to edit, append, and
   manipulate this file as you see fit. */


@media print {

	/* SECTION 1: Set default width, margin, float, and
	   background. This prevents elements from extending
	   beyond the edge of the printed page, and prevents
	   unnecessary background images from printing */
	html {
		background: #fff;
		width: auto;
		height: auto;
		overflow: visible;
	}
	body {
		background: #fff;
		font-size: 20pt;
		width: auto;
		height: auto;
		border: 0;
		margin: 0 5%;
		padding: 0;
		overflow: visible;
		float: none !important;
	}

	/* SECTION 2: Remove any elements not needed in print.
	   This would include navigation, ads, sidebars, etc. */
	.nestedarrow,
	.controls,
	.fork-reveal,
	.share-reveal,
	.state-background,
	.reveal .progress,
	.reveal .backgrounds {
		display: none !important;
	}

	/* SECTION 3: Set body font face, size, and color.
	   Consider using a serif font for readability. */
	body, p, td, li, div {
		font-size: 20pt!important;
		font-family: Georgia, "Times New Roman", Times, serif !important;
		color: #000;
	}

	/* SECTION 4: Set heading font face, sizes, and color.
	   Differentiate your headings from your body text.
	   Perhaps use a large sans-serif for distinction. */
	h1,h2,h3,h4,h5,h6 {
		color: #000!important;
		height: auto;
		line-height: normal;
		font-family: Georgia, "Times New Roman", Times, serif !important;
		text-shadow: 0 0 0 #000 !important;
		text-align: left;
		letter-spacing: normal;
	}
	/* Need to reduce the size of the fonts for printing */
	h1 { font-size: 28pt !important;  }
	h2 { font-size: 24pt !important; }
	h3 { font-size: 22pt !important; }
	h4 { font-size: 22pt !important; font-variant: small-caps; }
	h5 { font-size: 21pt !important; }
	h6 { font-size: 20pt !important; font-style: italic; }

	/* SECTION 5: Make hyperlinks more usable.
	   Ensure links are underlined, and consider appending
	   the URL to the end of the link for usability. */
	a:link,
	a:visited {
		color: #000 !important;
		font-weight: bold;
		text-decoration: underline;
	}
	/*
	.reveal a:link:after,
	.reveal a:visited:after {
		content: " (" attr(href) ") ";
		color: #222 !important;
		font-size: 90%;
	}
	*/


	/* SECTION 6: more reveal.js specific additions by @skypanther */
	ul, ol, div, p {
		visibility: visible;
		position: static;
		width: auto;
		height: auto;
		display: block;
		overflow: visible;
		margin: 0;
		text-align: left !important;
	}
	.reveal pre,
	.reveal table {
		margin-left: 0;
		margin-right: 0;
	}
	.reveal pre code {
		padding: 20px;
		border: 1px solid #ddd;
	}
	.reveal blockquote {
		margin: 20px 0;
	}
	.reveal .slides {
		position: static !important;
		width: auto !important;
		height: auto !important;

		left: 0 !important;
		top: 0 !important;
		margin-left: 0 !important;
		margin-top: 0 !important;
		padding: 0 !important;
		zoom: 1 !important;

		overflow: visible !important;
		display: block !important;

		text-align: left !important;
		-webkit-perspective: none;
		   -moz-perspective: none;
		    -ms-perspective: none;
		        perspective: none;

		-webkit-perspective-origin: 50% 50%;
		   -moz-perspective-origin: 50% 50%;
		    -ms-perspective-origin: 50% 50%;
		        perspective-origin: 50% 50%;
	}
	.reveal .slides section {
		visibility: visible !important;
		position: static !important;
		width: auto !important;
		height: auto !important;
		display: block !important;
		overflow: visible !important;

		left: 0 !important;
		top: 0 !important;
		margin-left: 0 !important;
		margin-top: 0 !important;
		padding: 60px 20px !important;
		z-index: auto !important;

		opacity: 1 !important;

		page-break-after: always !important;

		-webkit-transform-style: flat !important;
		   -moz-transform-style: flat !important;
		    -ms-transform-style: flat !important;
		        transform-style: flat !important;

		-webkit-transform: none !important;
		   -moz-transform: none !important;
		    -ms-transform: none !important;
		        transform: none !important;

		-webkit-transition: none !important;
		   -moz-transition: none !important;
		    -ms-transition: none !important;
		        transition: none !important;
	}
	.reveal .slides section.stack {
		padding: 0 !important;
	}
	.reveal section:last-of-type {
		page-break-after: avoid !important;
	}
	.reveal section .fragment {
		opacity: 1 !important;
		visibility: visible !important;

		-webkit-transform: none !important;
		   -moz-transform: none !important;
		    -ms-transform: none !important;
		        transform: none !important;
	}
	.reveal section img {
		display: block;
		margin: 15px 0px;
		background: rgba(255,255,255,1);
		border: 1px solid #666;
		box-shadow: none;
	}

	.reveal section small {
		font-size: 0.8em;
	}

}  
</script>


<script id="pdf-css" type="application/dynamic-css">
    
/**
 * This stylesheet is used to print reveal.js
 * presentations to PDF.
 *
 * https://github.com/hakimel/reveal.js#pdf-export
 */

* {
	-webkit-print-color-adjust: exact;
}

body {
	margin: 0 auto !important;
	border: 0;
	padding: 0;
	float: none !important;
	overflow: visible;
}

html {
	width: 100%;
	height: 100%;
	overflow: visible;
}

/* Remove any elements not needed in print. */
.nestedarrow,
.reveal .controls,
.reveal .progress,
.reveal .playback,
.reveal.overview,
.fork-reveal,
.share-reveal,
.state-background {
	display: none !important;
}

h1, h2, h3, h4, h5, h6 {
	text-shadow: 0 0 0 #000 !important;
}

.reveal pre code {
	overflow: hidden !important;
	font-family: Courier, 'Courier New', monospace !important;
}

ul, ol, div, p {
	visibility: visible;
	position: static;
	width: auto;
	height: auto;
	display: block;
	overflow: visible;
	margin: auto;
}
.reveal {
	width: auto !important;
	height: auto !important;
	overflow: hidden !important;
}
.reveal .slides {
	position: static;
	width: 100%;
	height: auto;

	left: auto;
	top: auto;
	margin: 0 !important;
	padding: 0 !important;

	overflow: visible;
	display: block;

	-webkit-perspective: none;
	   -moz-perspective: none;
	    -ms-perspective: none;
	        perspective: none;

	-webkit-perspective-origin: 50% 50%; /* there isn't a none/auto value but 50-50 is the default */
	   -moz-perspective-origin: 50% 50%;
	    -ms-perspective-origin: 50% 50%;
	        perspective-origin: 50% 50%;
}

.reveal .slides section {
	page-break-after: always !important;

	visibility: visible !important;
	position: relative !important;
	display: block !important;
	position: relative !important;

	margin: 0 !important;
	padding: 0 !important;
	box-sizing: border-box !important;
	min-height: 1px;

	opacity: 1 !important;

	-webkit-transform-style: flat !important;
	   -moz-transform-style: flat !important;
	    -ms-transform-style: flat !important;
	        transform-style: flat !important;

	-webkit-transform: none !important;
	   -moz-transform: none !important;
	    -ms-transform: none !important;
	        transform: none !important;
}

.reveal section.stack {
	margin: 0 !important;
	padding: 0 !important;
	page-break-after: avoid !important;
	height: auto !important;
	min-height: auto !important;
}

.reveal img {
	box-shadow: none;
}

.reveal .roll {
	overflow: visible;
	line-height: 1em;
}

/* Slide backgrounds are placed inside of their slide when exporting to PDF */
.reveal section .slide-background {
	display: block !important;
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	z-index: -1;
}

/* All elements should be above the slide-background */
.reveal section>* {
	position: relative;
	z-index: 1;
}

/* Display slide speaker notes when 'showNotes' is enabled */
.reveal .speaker-notes-pdf {
	display: block;
	width: 100%;
	max-height: none;
	left: auto;
	top: auto;
	z-index: 100;
}

/* Display slide numbers when 'slideNumber' is enabled */
.reveal .slide-number-pdf {
	display: block;
	position: absolute;
	font-size: 14px;
}

</script>


<script>
var style = document.createElement( 'style' );
style.type = 'text/css';
var style_script_id = window.location.search.match( /print-pdf/gi ) ? 'pdf-css' : 'paper-css';
var style_script = document.getElementById(style_script_id).text;
style.innerHTML = style_script;
document.getElementsByTagName('head')[0].appendChild(style);
</script>

</head>
<body>
  <div class="reveal">
    <div class="slides">


<section id="section" class="slide level2">
<h2></h2>
<Br><Br><br><br>
<h2>
<center>
Wrangling and Cleaning Strings Parte Deux
</center>
</h2>
<p><img data-src="./images/regexp/perl_problems.png" /></p>
</section>
<section id="just-another-day-loading-data" class="slide level2">
<h2>Just Another Day Loading Data…</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">library</span>(tidyverse)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw">library</span>(readxl)</a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="kw">library</span>(visdat)</a>
<a class="sourceLine" id="cb1-4" data-line-number="4"></a>
<a class="sourceLine" id="cb1-5" data-line-number="5">portal &lt;-<span class="st"> </span><span class="kw">read_excel</span>(<span class="st">&quot;./data/portal_messy_regexp.xlsx&quot;</span>)</a>
<a class="sourceLine" id="cb1-6" data-line-number="6"><span class="kw">vis_dat</span>(portal) <span class="op">+</span></a>
<a class="sourceLine" id="cb1-7" data-line-number="7"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">text =</span> <span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">13</span>))</a></code></pre></div>
</section>
<section id="the-nigtmare-scenario" class="slide level2">
<h2>The Nigtmare Scenario</h2>
<p><img src="12_regexp_2_files/figure-revealjs/read_data-1.jpeg" width="672" /></p>
</section>
<section id="what-to-do" class="slide level2">
<h2>What to Do?</h2>
<ol type="1">
<li>Deal with NA Values
<ul>
<li>na handlers and filter</li>
</ul></li>
<li><p>Diagnose remaining problems</p></li>
<li>Remove unneeded characters
<ul>
<li>string matching<br />
</li>
<li>Basic regular expressions</li>
</ul></li>
<li>Remove errant line spaces and other cruft
<ul>
<li>More advanced regular expressions</li>
</ul></li>
<li><p>Fix names</p></li>
</ol>
</section>
<section id="detecting-problems" class="slide level2">
<h2>Detecting Problems</h2>
<ul>
<li><code>str_subset()</code> returns your matches
<ul>
<li>Analagous to <code>grep()</code></li>
</ul></li>
<li><code>str_detect()</code> gives you TRUE or FALSE for matches
<ul>
<li>Analagous to <code>grepl()</code> for those who have used it before</li>
</ul></li>
</ul>
</section>
<section id="words-with-3-consonants-at-the-beginning" class="slide level2">
<h2>Words with 3 Consonants at the beginning</h2>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw">str_subset</span>(words, <span class="st">&quot;^([^aeiou]){3}&quot;</span>)</a></code></pre></div>
<pre><code> [1] &quot;Christ&quot;    &quot;Christmas&quot; &quot;dry&quot;       &quot;fly&quot;       &quot;mrs&quot;      
 [6] &quot;scheme&quot;    &quot;school&quot;    &quot;straight&quot;  &quot;strategy&quot;  &quot;street&quot;   
[11] &quot;strike&quot;    &quot;strong&quot;    &quot;structure&quot; &quot;system&quot;    &quot;three&quot;    
[16] &quot;through&quot;   &quot;throw&quot;     &quot;try&quot;       &quot;type&quot;      &quot;why&quot;      </code></pre>
<div class="fragment">
<p>Or, how many?</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw">sum</span>(<span class="kw">str_detect</span>(words, <span class="st">&quot;^([^aeiou]){3}&quot;</span>))</a></code></pre></div>
<pre><code>[1] 20</code></pre>
</div>
</section>
<section id="words-with-the-letter-r-and-q" class="slide level2">
<h2>Words with the letter r and q</h2>
<ul>
<li>Tricky because order cannot matter<br />
</li>
<li>BUT - we can match sequentially<br />
</li>
<li>Pipes work here!</li>
</ul>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw">str_subset</span>(words, <span class="st">&quot;r&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="st">  </span><span class="kw">str_subset</span>(<span class="st">&quot;q&quot;</span>)</a></code></pre></div>
<pre><code>[1] &quot;quarter&quot; &quot;require&quot; &quot;square&quot; </code></pre>
</section>
<section id="weaponizing-str_detect-with-filter" class="slide level2">
<h2>Weaponizing str_detect with filter()</h2>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="kw">library</span>(dplyr)</a>
<a class="sourceLine" id="cb8-2" data-line-number="2"></a>
<a class="sourceLine" id="cb8-3" data-line-number="3"><span class="co">#extract anything without a male or female sex</span></a>
<a class="sourceLine" id="cb8-4" data-line-number="4"><span class="kw">filter</span>(portal, <span class="kw">str_detect</span>(Sex, <span class="st">&quot;[fmFM]&quot;</span>))</a></code></pre></div>
<pre><code># A tibble: 52 x 5
   Species `Date Collected`    Plot  Sex   Weight
   &lt;chr&gt;   &lt;dttm&gt;              &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; 
 1 DM      2013-07-16 00:00:00 2     F     &lt;NA&gt;  
 2 DM      2013-07-16 00:00:00 7     M     33g   
 3 DM      2013-07-16 00:00:00 3     M     &lt;NA&gt;  
 4 DM      2013-07-16 00:00:00 1     M     &lt;NA&gt;  
 5 DM      2013-07-18 00:00:00 3     M     40g   
 6 DM      2013-07-18 00:00:00 7     M     48g   
 7 DM      2013-07-18 00:00:00 4     F     29g   
 8 DM      2013-07-18 00:00:00 4     F     46g   
 9 DM      2013-07-18 00:00:00 7     M     36g   
10 DM      2013-07-18 00:00:00 7     F     35g   
# ... with 42 more rows</code></pre>
</section>
<section id="exercises" class="slide level2">
<h2>Exercises</h2>
<ol type="1">
<li><p>Find all <code>stringr::words</code> that start or end with x.</p></li>
<li><p>How many words start with a vowel and end with a consonant.</p></li>
<li><p>Are there any words that contain at least one of each different vowel?</p></li>
</ol>
</section>
<section id="solutions" class="slide level2">
<h2>Solutions</h2>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="co"># all words that start with x</span></a>
<a class="sourceLine" id="cb10-2" data-line-number="2"><span class="kw">str_subset</span>(words, <span class="st">&quot;(^x|x$)&quot;</span>)</a></code></pre></div>
<pre><code>[1] &quot;box&quot; &quot;sex&quot; &quot;six&quot; &quot;tax&quot;</code></pre>
</section>
<section id="solutions-1" class="slide level2">
<h2>Solutions</h2>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1"><span class="co"># How many words start with a vowel and end with a consonant?</span></a>
<a class="sourceLine" id="cb12-2" data-line-number="2">vow_cons &lt;-<span class="st"> </span><span class="kw">str_detect</span>(words, <span class="st">&quot;^[aeiou].*[^aeiou]$&quot;</span>)</a>
<a class="sourceLine" id="cb12-3" data-line-number="3"></a>
<a class="sourceLine" id="cb12-4" data-line-number="4"><span class="kw">sum</span>(vow_cons)</a></code></pre></div>
<pre><code>[1] 122</code></pre>
</section>
<section id="solutions-2" class="slide level2">
<h2>Solutions</h2>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1"><span class="co"># Words that contain one of each vowel</span></a>
<a class="sourceLine" id="cb14-2" data-line-number="2"><span class="kw">str_subset</span>(words, <span class="st">&quot;a&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb14-3" data-line-number="3"><span class="st">  </span><span class="kw">str_subset</span>(<span class="st">&quot;i&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb14-4" data-line-number="4"><span class="st">  </span><span class="kw">str_subset</span>(<span class="st">&quot;o&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb14-5" data-line-number="5"><span class="st">  </span><span class="kw">str_subset</span>(<span class="st">&quot;u&quot;</span>)</a></code></pre></div>
<pre><code>[1] &quot;authority&quot; &quot;various&quot;  </code></pre>
</section>
<section id="exercise" class="slide level2">
<h2>Exercise</h2>
<p>Which Weights are bad?</p>
<div class="fragment">
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1">portal<span class="op">$</span>Weight <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb16-2" data-line-number="2"><span class="st">  </span><span class="kw">str_subset</span>(<span class="st">&quot;[^0-9]&quot;</span>)</a></code></pre></div>
<pre><code> [1] &quot;33g&quot;                          &quot;40g&quot;                         
 [3] &quot;48g&quot;                          &quot;29g&quot;                         
 [5] &quot;46g&quot;                          &quot;36g&quot;                         
 [7] &quot;35g&quot;                          &quot;22g&quot;                         
 [9] &quot;42g&quot;                          &quot;41g&quot;                         
[11] &quot;37g&quot;                          &quot;132 (scale not calibrated)&quot;  
[13] &quot;113 (scale not callibtrated)&quot;</code></pre>
</div>
</section>
<section id="finding-and-filtering-is-all-well-and-good" class="slide level2">
<h2>Finding and filtering is all well and good…</h2>
<ul>
<li><p>We want to change values</p></li>
<li>Many helper functions for standard changes
<ul>
<li>e.g. <code>str_to_lower()</code></li>
</ul></li>
<li>Or use <code>str_replace()</code> and <code>str_replace_all</code>
<ul>
<li>like <code>gsub()</code> in base R</li>
</ul></li>
</ul>
</section>
<section id="easy-fixes-that-work-with-mutate" class="slide level2">
<h2>Easy fixes that work with mutate</h2>
<p>Uppercase</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1"><span class="kw">str_to_upper</span>(sentences[<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>])</a></code></pre></div>
<pre><code>[1] &quot;THE BIRCH CANOE SLID ON THE SMOOTH PLANKS.&quot; 
[2] &quot;GLUE THE SHEET TO THE DARK BLUE BACKGROUND.&quot;
[3] &quot;IT&#39;S EASY TO TELL THE DEPTH OF A WELL.&quot;     
[4] &quot;THESE DAYS A CHICKEN LEG IS A RARE DISH.&quot;   </code></pre>
</section>
<section id="easy-fixes-that-work-with-mutate-1" class="slide level2">
<h2>Easy fixes that work with mutate</h2>
<p>Lowercase</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" data-line-number="1"><span class="kw">str_to_lower</span>(sentences[<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>])</a></code></pre></div>
<pre><code>[1] &quot;the birch canoe slid on the smooth planks.&quot; 
[2] &quot;glue the sheet to the dark blue background.&quot;
[3] &quot;it&#39;s easy to tell the depth of a well.&quot;     
[4] &quot;these days a chicken leg is a rare dish.&quot;   </code></pre>
</section>
<section id="easy-fixes-that-work-with-mutate-2" class="slide level2">
<h2>Easy fixes that work with mutate</h2>
<p>Title</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" data-line-number="1"><span class="kw">str_to_title</span>(sentences[<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>])</a></code></pre></div>
<pre><code>[1] &quot;The Birch Canoe Slid On The Smooth Planks.&quot; 
[2] &quot;Glue The Sheet To The Dark Blue Background.&quot;
[3] &quot;It&#39;s Easy To Tell The Depth Of A Well.&quot;     
[4] &quot;These Days A Chicken Leg Is A Rare Dish.&quot;   </code></pre>
</section>
<section id="str_replace-more-generic-replacements" class="slide level2">
<h2>str_replace: more generic replacements</h2>
<p>Remove first vowel from words</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb24-1" data-line-number="1"><span class="kw">str_replace</span>(words, <span class="st">&quot;[aeiou]&quot;</span>, <span class="st">&quot;&quot;</span>)[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>]</a></code></pre></div>
<pre><code> [1] &quot;&quot;        &quot;ble&quot;     &quot;bout&quot;    &quot;bsolute&quot; &quot;ccept&quot;   &quot;ccount&quot;  &quot;chieve&quot; 
 [8] &quot;cross&quot;   &quot;ct&quot;      &quot;ctive&quot;  </code></pre>
</section>
<section id="str_replace_all-the-big-fix" class="slide level2">
<h2>str_replace_all: the big fix</h2>
<p>Remove first vowel from words</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb26-1" data-line-number="1"><span class="kw">str_replace_all</span>(words, <span class="st">&quot;[aeiou]&quot;</span>, <span class="st">&quot;&quot;</span>)[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>]</a></code></pre></div>
<pre><code> [1] &quot;&quot;     &quot;bl&quot;   &quot;bt&quot;   &quot;bslt&quot; &quot;ccpt&quot; &quot;ccnt&quot; &quot;chv&quot;  &quot;crss&quot; &quot;ct&quot;   &quot;ctv&quot; </code></pre>
</section>
<section id="moving-pieces" class="slide level2">
<h2>Moving Pieces</h2>
<p>abc -&gt; cab</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb28-1" data-line-number="1">sentences[<span class="dv">1</span>]</a></code></pre></div>
<pre><code>[1] &quot;The birch canoe slid on the smooth planks.&quot;</code></pre>
<div class="fragment">
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb30-1" data-line-number="1"><span class="kw">str_replace_all</span>(sentences[<span class="dv">1</span>], <span class="st">&quot;(birch)(.*)(smooth)&quot;</span>, <span class="st">&quot;</span><span class="ch">\\</span><span class="st">3</span><span class="ch">\\</span><span class="st">2</span><span class="ch">\\</span><span class="st">1&quot;</span>)</a></code></pre></div>
<pre><code>[1] &quot;The smooth canoe slid on the birch planks.&quot;</code></pre>
</div>
</section>
<section id="exercises-1" class="slide level2">
<h2>Exercises</h2>
<ol type="1">
<li><p>Replace the word “the” or “The” with “Cat” in stringr::sentences</p></li>
<li><p>Switch the first and last letters in words. Bonus: Use <code>intersect</code> to find out which of those strings are still words?</p></li>
<li><p>Use <code>mutate</code> to remove g and the other cruft from weights and then make numeric</p></li>
</ol>
</section>
<section id="solutions-3" class="slide level2">
<h2>Solutions</h2>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb32-1" data-line-number="1"><span class="co">#Replace the word &quot;the&quot; with &quot;cat&quot; in stringr::sentences</span></a>
<a class="sourceLine" id="cb32-2" data-line-number="2"></a>
<a class="sourceLine" id="cb32-3" data-line-number="3"><span class="kw">str_replace_all</span>(sentences, <span class="st">&quot;[tT]he&quot;</span>, <span class="st">&quot;cat&quot;</span>)[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>]</a></code></pre></div>
<pre><code> [1] &quot;cat birch canoe slid on cat smooth planks.&quot; 
 [2] &quot;Glue cat sheet to cat dark blue background.&quot;
 [3] &quot;It&#39;s easy to tell cat depth of a well.&quot;     
 [4] &quot;catse days a chicken leg is a rare dish.&quot;   
 [5] &quot;Rice is often served in round bowls.&quot;       
 [6] &quot;cat juice of lemons makes fine punch.&quot;      
 [7] &quot;cat box was thrown beside cat parked truck.&quot;
 [8] &quot;cat hogs were fed chopped corn and garbage.&quot;
 [9] &quot;Four hours of steady work faced us.&quot;        
[10] &quot;Large size in stockings is hard to sell.&quot;   </code></pre>
</section>
<section id="solutions-4" class="slide level2">
<h2>Solutions</h2>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb34-1" data-line-number="1"><span class="co"># switch letters and see if we still have words</span></a>
<a class="sourceLine" id="cb34-2" data-line-number="2">words2 &lt;-<span class="st"> </span><span class="kw">str_replace_all</span>(words, <span class="st">&quot;(^.)(.*)(.$)&quot;</span>, <span class="st">&quot;</span><span class="ch">\\</span><span class="st">3</span><span class="ch">\\</span><span class="st">2</span><span class="ch">\\</span><span class="st">1&quot;</span>)</a></code></pre></div>
</section>
<section id="solutions-5" class="slide level2">
<h2>Solutions</h2>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb35-1" data-line-number="1"><span class="co">#who still works?</span></a>
<a class="sourceLine" id="cb35-2" data-line-number="2"><span class="kw">intersect</span>(words, words2)</a></code></pre></div>
<pre><code> [1] &quot;a&quot;          &quot;america&quot;    &quot;area&quot;       &quot;dad&quot;        &quot;dead&quot;      
 [6] &quot;deal&quot;       &quot;dear&quot;       &quot;depend&quot;     &quot;dog&quot;        &quot;educate&quot;   
[11] &quot;else&quot;       &quot;encourage&quot;  &quot;engine&quot;     &quot;europe&quot;     &quot;evidence&quot;  
[16] &quot;example&quot;    &quot;excuse&quot;     &quot;exercise&quot;   &quot;expense&quot;    &quot;experience&quot;
[21] &quot;eye&quot;        &quot;god&quot;        &quot;health&quot;     &quot;high&quot;       &quot;knock&quot;     
[26] &quot;lead&quot;       &quot;level&quot;      &quot;local&quot;      &quot;nation&quot;     &quot;no&quot;        
[31] &quot;non&quot;        &quot;on&quot;         &quot;rather&quot;     &quot;read&quot;       &quot;refer&quot;     
[36] &quot;remember&quot;   &quot;serious&quot;    &quot;stairs&quot;     &quot;test&quot;       &quot;tonight&quot;   
[41] &quot;transport&quot;  &quot;treat&quot;      &quot;trust&quot;      &quot;window&quot;     &quot;yesterday&quot; </code></pre>
</section>
<section id="editing-our-data" class="slide level2">
<h2>Editing our data</h2>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb37-1" data-line-number="1">portal_test &lt;-<span class="st"> </span>portal <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb37-2" data-line-number="2"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">Weight =</span> <span class="kw">str_replace_all</span>(Weight, <span class="st">&quot;[^0-9]&quot;</span>, <span class="st">&quot;&quot;</span>))</a></code></pre></div>
</section>
<section id="did-it-work" class="slide level2">
<h2>Did it work?</h2>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb38-1" data-line-number="1"><span class="kw">str_subset</span>(portal_test<span class="op">$</span>Weight, <span class="st">&quot;[^0-9]&quot;</span>)</a></code></pre></div>
<pre><code>character(0)</code></pre>
<div class="fragment">
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb40-1" data-line-number="1"><span class="kw">unique</span>(portal_test<span class="op">$</span>Weight)</a></code></pre></div>
<pre><code> [1] NA    &quot;33&quot;  &quot;40&quot;  &quot;48&quot;  &quot;29&quot;  &quot;46&quot;  &quot;36&quot;  &quot;35&quot;  &quot;22&quot;  &quot;42&quot;  &quot;41&quot; 
[12] &quot;37&quot;  &quot;52&quot;  &quot;50&quot;  &quot;31&quot;  &quot;44&quot;  &quot;39&quot;  &quot;45&quot;  &quot;117&quot; &quot;121&quot; &quot;115&quot; &quot;120&quot;
[23] &quot;118&quot; &quot;126&quot; &quot;132&quot; &quot;113&quot; &quot;122&quot; &quot;107&quot; &quot;38&quot;  &quot;43&quot;  &quot;7&quot;   &quot;157&quot; &quot;218&quot;
[34] &quot;128&quot;</code></pre>
</div>
<div class="fragment">
Oh no! Weird spaces!
</div>
</section>
<section id="there-is-no-shame-in-many-mutates" class="slide level2">
<h2>There is no shame in many mutates</h2>
<p>\s = whitespace</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb42-1" data-line-number="1">portal_test &lt;-<span class="st"> </span>portal <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb42-2" data-line-number="2"><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">Weight =</span> <span class="kw">str_replace_all</span>(Weight, <span class="st">&quot;[^0-9]&quot;</span>, <span class="st">&quot;&quot;</span>),</a>
<a class="sourceLine" id="cb42-3" data-line-number="3">           </a>
<a class="sourceLine" id="cb42-4" data-line-number="4">           <span class="dt">Weight =</span> <span class="kw">str_replace_all</span>(Weight, <span class="st">&quot;</span><span class="ch">\\</span><span class="st">s&quot;</span>, <span class="st">&quot;&quot;</span>)</a>
<a class="sourceLine" id="cb42-5" data-line-number="5">         )</a></code></pre></div>
</section>
<section id="did-it-work-1" class="slide level2">
<h2>Did it work?</h2>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb43-1" data-line-number="1"><span class="kw">str_subset</span>(portal_test<span class="op">$</span>Weight, <span class="st">&quot;[^0-9]&quot;</span>)</a></code></pre></div>
<pre><code>character(0)</code></pre>
<div class="fragment">
YES!
</div>
</section>
<section id="now-fix-the-data" class="slide level2">
<h2>Now fix the data</h2>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb45-1" data-line-number="1">portal &lt;-<span class="st"> </span>portal <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb45-2" data-line-number="2"><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">Weight =</span> <span class="kw">str_replace_all</span>(Weight, <span class="st">&quot;[^0-9]&quot;</span>, <span class="st">&quot;&quot;</span>),</a>
<a class="sourceLine" id="cb45-3" data-line-number="3">      </a>
<a class="sourceLine" id="cb45-4" data-line-number="4">           <span class="dt">Weight =</span> <span class="kw">str_replace_all</span>(Weight, <span class="st">&quot;</span><span class="ch">\\</span><span class="st">s&quot;</span>, <span class="st">&quot;&quot;</span>),</a>
<a class="sourceLine" id="cb45-5" data-line-number="5">           </a>
<a class="sourceLine" id="cb45-6" data-line-number="6">           <span class="dt">Weight =</span> <span class="kw">as.numeric</span>(Weight)</a>
<a class="sourceLine" id="cb45-7" data-line-number="7">         )</a></code></pre></div>
</section>
<section id="lets-see-it" class="slide level2">
<h2>Let’s see it!</h2>
<p><img src="12_regexp_2_files/figure-revealjs/unnamed-chunk-22-1.jpeg" width="672" /></p>
</section>
<section id="fix-plot" class="slide level2">
<h2>Fix plot</h2>
<ul>
<li><p>Is it <em>really</em> a string?</p></li>
<li><p>Make any needed fixes (if any!)</p></li>
<li><p>Make it numeric</p></li>
</ul>
</section>
<section id="solution" class="slide level2">
<h2>Solution</h2>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb46-1" data-line-number="1"><span class="kw">str_subset</span>(portal<span class="op">$</span>Plot, <span class="st">&quot;[^0-9]&quot;</span>)</a></code></pre></div>
<pre><code>character(0)</code></pre>
<div class="fragment">

<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb48-1" data-line-number="1">portal &lt;-<span class="st"> </span>portal <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb48-2" data-line-number="2"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">Plot =</span> <span class="kw">as.numeric</span>(Plot))</a></code></pre></div>
</section>
<section id="almost-there" class="slide level2">
<h2>Almost there</h2>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb49-1" data-line-number="1"><span class="kw">vis_dat</span>(portal)</a></code></pre></div>
<p><img src="12_regexp_2_files/figure-revealjs/unnamed-chunk-25-1.jpeg" width="672" /></p>
</section>
<section id="what-to-do-1" class="slide level2">
<h2>What to Do?</h2>
<ol type="1">
<li>Deal with NA Values
<ul>
<li>na handlers and filter</li>
</ul></li>
<li><p>Diagnose remaining problems</p></li>
<li>Remove unneeded characters
<ul>
<li>string matching<br />
</li>
<li>Basic regular expressions</li>
</ul></li>
<li>Remove errant line spaces and other cruft
<ul>
<li>More advanced regular expressions</li>
</ul></li>
<li><p><font color="red">Fix names</font></p></li>
</ol>
</section>
<section id="the-problems-with-species" class="slide level2">
<h2>The problems with species</h2>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb50-1" data-line-number="1"><span class="kw">unique</span>(portal<span class="op">$</span>Species)</a></code></pre></div>
<pre><code> [1] &quot;DM&quot;   &quot;DO&quot;   &quot;ds&quot;   &quot;NA&quot;   &quot;OL&quot;   &quot;PE&quot;   &quot;PF&quot;   &quot;OT&quot;   &quot;DS&quot;   &quot;OX&quot;  
[11] &quot;DM_F&quot; &quot;DS_F&quot; &quot;DM_M&quot; &quot;DO_M&quot; &quot;OL_M&quot;</code></pre>
</section>
<section id="some-initial-fixes" class="slide level2">
<h2>Some Initial Fixes</h2>
<ol type="1">
<li>Capitalize!</li>
</ol>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb52-1" data-line-number="1">portal &lt;-<span class="st"> </span><span class="kw">mutate</span>(portal, <span class="dt">Species =</span> <span class="kw">str_to_upper</span>(Species))</a></code></pre></div>
<ol start="2" type="1">
<li>Make NA NA</li>
</ol>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb53-1" data-line-number="1">portal &lt;-<span class="st"> </span>portal <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb53-2" data-line-number="2"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">Species =</span> <span class="kw">ifelse</span>(Species<span class="op">==</span><span class="st">&quot;NA&quot;</span>, <span class="ot">NA</span>, Species))</a>
<a class="sourceLine" id="cb53-3" data-line-number="3"></a>
<a class="sourceLine" id="cb53-4" data-line-number="4"><span class="kw">unique</span>(portal<span class="op">$</span>Species)</a></code></pre></div>
<pre><code> [1] &quot;DM&quot;   &quot;DO&quot;   &quot;DS&quot;   NA     &quot;OL&quot;   &quot;PE&quot;   &quot;PF&quot;   &quot;OT&quot;   &quot;OX&quot;   &quot;DM_F&quot;
[11] &quot;DS_F&quot; &quot;DM_M&quot; &quot;DO_M&quot; &quot;OL_M&quot;</code></pre>
</section>
<section id="but-what-about-those-species_sex-combos" class="slide level2">
<h2>But what about those Species_Sex combos?</h2>
<ol type="1">
<li><p><code>str_split()</code> makes splits</p></li>
<li><p><code>str_c()</code> combines</p></li>
</ol>
</section>
<section id="combining" class="slide level2">
<h2>Combining</h2>
<p>This is the one of the most common things I do:<br />
- Variable names<br />
- Combining different columns<br />
- Adding units</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb55-1" data-line-number="1"><span class="kw">str_c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="dt">sep=</span><span class="st">&quot;,&quot;</span>)</a></code></pre></div>
<pre><code>[1] &quot;a,b,c&quot;</code></pre>
</section>
<section id="adding-to-a-vector" class="slide level2">
<h2>Adding to a Vector</h2>
<div class="fragment">
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb57-1" data-line-number="1"><span class="kw">str_c</span>(portal<span class="op">$</span>Weight, <span class="st">&quot;g&quot;</span>, <span class="dt">sep=</span><span class="st">&quot;&quot;</span>)</a></code></pre></div>
<pre><code> [1] NA     &quot;33g&quot;  NA     NA     &quot;40g&quot;  &quot;48g&quot;  &quot;29g&quot;  &quot;46g&quot;  &quot;36g&quot;  &quot;35g&quot; 
[11] &quot;22g&quot;  &quot;42g&quot;  &quot;41g&quot;  &quot;37g&quot;  &quot;52g&quot;  &quot;33g&quot;  &quot;50g&quot;  &quot;48g&quot;  &quot;31g&quot;  &quot;41g&quot; 
[21] &quot;44g&quot;  &quot;48g&quot;  &quot;39g&quot;  &quot;40g&quot;  &quot;45g&quot;  &quot;41g&quot;  &quot;117g&quot; &quot;121g&quot; &quot;115g&quot; &quot;120g&quot;
[31] &quot;118g&quot; &quot;126g&quot; &quot;132g&quot; &quot;113g&quot; &quot;122g&quot; &quot;107g&quot; &quot;115g&quot; NA     &quot;44g&quot;  &quot;38g&quot; 
[41] NA     &quot;22g&quot;  &quot;38g&quot;  &quot;48g&quot;  &quot;43g&quot;  &quot;35g&quot;  &quot;43g&quot;  &quot;37g&quot;  &quot;7g&quot;   &quot;45g&quot; 
[51] NA     &quot;157g&quot; NA     &quot;218g&quot; &quot;7g&quot;   &quot;52g&quot;  &quot;37g&quot;  &quot;128g&quot; &quot;42g&quot;  &quot;37g&quot; 
[61] NA     &quot;48g&quot;  &quot;45g&quot;  &quot;42g&quot;  &quot;52g&quot;  &quot;35g&quot; </code></pre>
</div>
</section>
<section id="collapsing-a-vector" class="slide level2">
<h2>Collapsing a Vector</h2>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb59-1" data-line-number="1"><span class="co">#sep</span></a>
<a class="sourceLine" id="cb59-2" data-line-number="2"><span class="kw">str_c</span>(<span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>), <span class="dt">sep =</span> <span class="st">&quot;,&quot;</span>)</a></code></pre></div>
<pre><code>[1] &quot;a&quot; &quot;b&quot; &quot;c&quot;</code></pre>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb61-1" data-line-number="1"><span class="co">#collapse</span></a>
<a class="sourceLine" id="cb61-2" data-line-number="2"><span class="kw">str_c</span>(<span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>), <span class="dt">collapse =</span> <span class="st">&quot;,&quot;</span>)</a></code></pre></div>
<pre><code>[1] &quot;a,b,c&quot;</code></pre>
</section>
<section id="collapsing-a-vector-1" class="slide level2">
<h2>Collapsing a Vector</h2>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb63-1" data-line-number="1"><span class="kw">str_c</span>(<span class="kw">na.omit</span>(portal<span class="op">$</span>Weight), <span class="st">&quot;g&quot;</span>, </a>
<a class="sourceLine" id="cb63-2" data-line-number="2">      <span class="dt">sep=</span><span class="st">&quot;&quot;</span>, <span class="dt">collapse =</span> <span class="st">&quot;, &quot;</span>)</a></code></pre></div>
<pre><code>[1] &quot;33g, 40g, 48g, 29g, 46g, 36g, 35g, 22g, 42g, 41g, 37g, 52g, 33g, 50g, 48g, 31g, 41g, 44g, 48g, 39g, 40g, 45g, 41g, 117g, 121g, 115g, 120g, 118g, 126g, 132g, 113g, 122g, 107g, 115g, 44g, 38g, 22g, 38g, 48g, 43g, 35g, 43g, 37g, 7g, 45g, 157g, 218g, 7g, 52g, 37g, 128g, 42g, 37g, 48g, 45g, 42g, 52g, 35g&quot;</code></pre>
</section>
<section id="splitting-strings" class="slide level2">
<h2>Splitting Strings</h2>
<p>That “DM_F” problem!</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb65-1" data-line-number="1"><span class="kw">str_split</span>(<span class="kw">c</span>(<span class="st">&quot;hello_goodbye&quot;</span>, <span class="st">&quot;purple_orange&quot;</span>), </a>
<a class="sourceLine" id="cb65-2" data-line-number="2">          <span class="dt">pattern =</span> <span class="st">&quot;_&quot;</span>)</a></code></pre></div>
<pre><code>[[1]]
[1] &quot;hello&quot;   &quot;goodbye&quot;

[[2]]
[1] &quot;purple&quot; &quot;orange&quot;</code></pre>
<ul>
<li>Can use any regexp for the pattern<br />
</li>
<li>Can recombine results as needed</li>
</ul>
</section>
<section id="splitting-strings-simply" class="slide level2">
<h2>Splitting Strings Simply</h2>
<p>That “DM_F” problem!</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb67-1" data-line-number="1"><span class="kw">str_split</span>(<span class="kw">c</span>(<span class="st">&quot;hello_goodbye&quot;</span>, <span class="st">&quot;purple_orange&quot;</span>), </a>
<a class="sourceLine" id="cb67-2" data-line-number="2">          <span class="dt">pattern =</span> <span class="st">&quot;_&quot;</span>, <span class="dt">simplify=</span><span class="ot">TRUE</span>)</a></code></pre></div>
<pre><code>     [,1]     [,2]     
[1,] &quot;hello&quot;  &quot;goodbye&quot;
[2,] &quot;purple&quot; &quot;orange&quot; </code></pre>
</section>
<section id="modifying-our-data" class="slide level2">
<h2>Modifying our data</h2>
<ol type="1">
<li><p>Split out sex from species and put it in its own column</p></li>
<li><p>Fix Species</p></li>
<li><p>Add new entries where needed to Sex</p></li>
<li><p>Clean up (and make it real)</p></li>
</ol>
</section>
<section id="modifying-our-data-1" class="slide level2">
<h2>Modifying our data</h2>
<ol type="1">
<li>Split out sex from species and put it in its own column</li>
</ol>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb69-1" data-line-number="1">portal_test &lt;-<span class="st"> </span>portal <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb69-2" data-line-number="2"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">Split_Sex =</span> <span class="kw">str_split</span>(Species, </a>
<a class="sourceLine" id="cb69-3" data-line-number="3">                               <span class="dt">pattern=</span><span class="st">&quot;_&quot;</span>, </a>
<a class="sourceLine" id="cb69-4" data-line-number="4">                               <span class="dt">simplify=</span><span class="ot">TRUE</span>)[,<span class="dv">2</span>])</a></code></pre></div>
</section>
<section id="did-it-work-2" class="slide level2">
<h2>Did it work?</h2>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb70-1" data-line-number="1">portal_test<span class="op">$</span>Split_Sex</a></code></pre></div>
<pre><code> [1] &quot;&quot;  &quot;&quot;  &quot;&quot;  &quot;&quot;  &quot;&quot;  &quot;&quot;  &quot;&quot;  &quot;&quot;  &quot;&quot;  &quot;&quot;  &quot;&quot;  &quot;&quot;  &quot;&quot;  &quot;&quot;  &quot;&quot;  &quot;&quot;  &quot;&quot; 
[18] &quot;&quot;  &quot;&quot;  &quot;&quot;  &quot;&quot;  &quot;&quot;  &quot;&quot;  &quot;&quot;  &quot;&quot;  &quot;&quot;  &quot;&quot;  &quot;&quot;  &quot;&quot;  &quot;&quot;  &quot;&quot;  &quot;&quot;  &quot;&quot;  &quot;&quot; 
[35] &quot;&quot;  &quot;&quot;  &quot;&quot;  &quot;&quot;  &quot;&quot;  &quot;&quot;  &quot;&quot;  &quot;&quot;  &quot;&quot;  &quot;&quot;  &quot;&quot;  &quot;&quot;  &quot;&quot;  &quot;&quot;  &quot;&quot;  &quot;&quot;  &quot;&quot; 
[52] &quot;&quot;  &quot;&quot;  &quot;&quot;  &quot;&quot;  &quot;&quot;  &quot;F&quot; &quot;F&quot; &quot;F&quot; &quot;M&quot; &quot;M&quot; &quot;F&quot; &quot;M&quot; &quot;F&quot; &quot;M&quot; &quot;M&quot;</code></pre>
</section>
<section id="modifying-our-data-2" class="slide level2">
<h2>Modifying Our data</h2>
<ol start="2" type="1">
<li>Fix Species</li>
</ol>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb72-1" data-line-number="1">portal_test &lt;-<span class="st"> </span>portal <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb72-2" data-line-number="2"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">Split_Sex =</span> <span class="kw">str_split</span>(Species, </a>
<a class="sourceLine" id="cb72-3" data-line-number="3">                               <span class="dt">pattern=</span><span class="st">&quot;_&quot;</span>, </a>
<a class="sourceLine" id="cb72-4" data-line-number="4">                               <span class="dt">simplify=</span><span class="ot">TRUE</span>)[,<span class="dv">2</span>],</a>
<a class="sourceLine" id="cb72-5" data-line-number="5">         </a>
<a class="sourceLine" id="cb72-6" data-line-number="6">         <span class="dt">Species =</span> <span class="kw">str_split</span>(Species, </a>
<a class="sourceLine" id="cb72-7" data-line-number="7">                               <span class="dt">pattern=</span><span class="st">&quot;_&quot;</span>, </a>
<a class="sourceLine" id="cb72-8" data-line-number="8">                               <span class="dt">simplify=</span><span class="ot">TRUE</span>)[,<span class="dv">1</span>])</a></code></pre></div>
<p>Other options here?</p>
</section>
<section id="did-it-work-3" class="slide level2">
<h2>Did it work?</h2>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb73-1" data-line-number="1"><span class="kw">unique</span>(portal_test<span class="op">$</span>Species)</a></code></pre></div>
<pre><code>[1] &quot;DM&quot; &quot;DO&quot; &quot;DS&quot; NA   &quot;OL&quot; &quot;PE&quot; &quot;PF&quot; &quot;OT&quot; &quot;OX&quot;</code></pre>
</section>
<section id="modifying-our-data-3" class="slide level2">
<h2>Modifying Our data</h2>
<ol start="3" type="1">
<li>Add new entries where needed to Sex</li>
</ol>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb75-1" data-line-number="1">portal_test &lt;-<span class="st"> </span>portal <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb75-2" data-line-number="2"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">Split_Sex =</span> <span class="kw">str_split</span>(Species, </a>
<a class="sourceLine" id="cb75-3" data-line-number="3">                               <span class="dt">pattern=</span><span class="st">&quot;_&quot;</span>, </a>
<a class="sourceLine" id="cb75-4" data-line-number="4">                               <span class="dt">simplify=</span><span class="ot">TRUE</span>)[,<span class="dv">2</span>],</a>
<a class="sourceLine" id="cb75-5" data-line-number="5">         </a>
<a class="sourceLine" id="cb75-6" data-line-number="6">         <span class="dt">Species =</span> <span class="kw">str_split</span>(Species, </a>
<a class="sourceLine" id="cb75-7" data-line-number="7">                               <span class="dt">pattern=</span><span class="st">&quot;_&quot;</span>, </a>
<a class="sourceLine" id="cb75-8" data-line-number="8">                               <span class="dt">simplify=</span><span class="ot">TRUE</span>)[,<span class="dv">1</span>],</a>
<a class="sourceLine" id="cb75-9" data-line-number="9">         </a>
<a class="sourceLine" id="cb75-10" data-line-number="10">         <span class="dt">Sex =</span> <span class="kw">ifelse</span>(Split_Sex<span class="op">==</span><span class="st">&quot;&quot;</span>, Sex, Split_Sex))</a></code></pre></div>
</section>
<section id="did-it-work-4" class="slide level2">
<h2>Did it work?</h2>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb76-1" data-line-number="1">portal_test<span class="op">$</span>Sex</a></code></pre></div>
<pre><code> [1] &quot;F&quot; &quot;M&quot; &quot;M&quot; &quot;M&quot; &quot;M&quot; &quot;M&quot; &quot;F&quot; &quot;F&quot; &quot;M&quot; &quot;F&quot; &quot;f&quot; &quot;f&quot; &quot;F&quot; &quot;F&quot; &quot;F&quot; &quot;F&quot; &quot;F&quot;
[18] &quot;F&quot; &quot;F&quot; &quot;F&quot; &quot;F&quot; &quot;m&quot; &quot;F&quot; &quot;F&quot; &quot;M&quot; &quot;F&quot; &quot;F&quot; &quot;F&quot; &quot;M&quot; &quot;F&quot; &quot;F&quot; &quot;F&quot; &quot;m&quot; &quot;F&quot;
[35] &quot;F&quot; &quot;F&quot; &quot;F&quot; NA  &quot;M&quot; &quot;M&quot; NA  &quot;M&quot; &quot;M&quot; &quot;M&quot; &quot;M&quot; &quot;F&quot; &quot;M&quot; &quot;F&quot; &quot;F&quot; &quot;M&quot; NA 
[52] &quot;M&quot; NA  &quot;M&quot; &quot;F&quot; &quot;M&quot; &quot;F&quot; &quot;F&quot; &quot;F&quot; &quot;M&quot; &quot;M&quot; &quot;F&quot; &quot;M&quot; &quot;F&quot; &quot;M&quot; &quot;M&quot;</code></pre>
</section>
<section id="modifying-our-data-4" class="slide level2">
<h2>Modifying Our data</h2>
<ol start="4" type="1">
<li>Clean up (and make it real)</li>
</ol>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb78-1" data-line-number="1"><span class="co">#now using portal, not a test!</span></a>
<a class="sourceLine" id="cb78-2" data-line-number="2"></a>
<a class="sourceLine" id="cb78-3" data-line-number="3">portal &lt;-<span class="st"> </span>portal <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb78-4" data-line-number="4"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">Split_Sex =</span> <span class="kw">str_split</span>(Species, </a>
<a class="sourceLine" id="cb78-5" data-line-number="5">                               <span class="dt">pattern=</span><span class="st">&quot;_&quot;</span>, </a>
<a class="sourceLine" id="cb78-6" data-line-number="6">                               <span class="dt">simplify=</span><span class="ot">TRUE</span>)[,<span class="dv">2</span>],</a>
<a class="sourceLine" id="cb78-7" data-line-number="7">         </a>
<a class="sourceLine" id="cb78-8" data-line-number="8">         <span class="dt">Species =</span> <span class="kw">str_split</span>(Species, </a>
<a class="sourceLine" id="cb78-9" data-line-number="9">                               <span class="dt">pattern=</span><span class="st">&quot;_&quot;</span>, </a>
<a class="sourceLine" id="cb78-10" data-line-number="10">                               <span class="dt">simplify=</span><span class="ot">TRUE</span>)[,<span class="dv">1</span>],</a>
<a class="sourceLine" id="cb78-11" data-line-number="11">         </a>
<a class="sourceLine" id="cb78-12" data-line-number="12">         <span class="dt">Sex =</span> <span class="kw">ifelse</span>(Split_Sex<span class="op">==</span><span class="st">&quot;&quot;</span>, Sex, Split_Sex),</a>
<a class="sourceLine" id="cb78-13" data-line-number="13">         </a>
<a class="sourceLine" id="cb78-14" data-line-number="14">         <span class="dt">Sex =</span> <span class="kw">str_to_upper</span>(Sex)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb78-15" data-line-number="15"><span class="st">  </span></a>
<a class="sourceLine" id="cb78-16" data-line-number="16"><span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>Split_Sex)</a></code></pre></div>
</section>
<section id="exercises-2" class="slide level2">
<h2>Exercises</h2>
<ol type="1">
<li><p>Combine words separating them by “-” into one long string.</p></li>
<li><p>Split up a string like “apples, pears, and bananas” into individual words with no spacing around them. Use <code>as.vector()</code> and <code>str_detect</code> to make it into a seamless vector with no “”.</p></li>
<li><p>What does splitting with an empty string (“”) do? Experiment, and then read the documentation.</p></li>
</ol>
</section>
<section id="solutions-6" class="slide level2">
<h2>Solutions</h2>
<ol type="1">
<li>Combine words separating them by “-” into one long string.</li>
</ol>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb79-1" data-line-number="1"><span class="kw">str_c</span>(words, <span class="dt">collapse=</span><span class="st">&quot;-&quot;</span>)</a></code></pre></div>
<pre><code>[1] &quot;a-able-about-absolute-accept-account-achieve-across-act-active-actual-add-address-admit-advertise-affect-afford-after-afternoon-again-against-age-agent-ago-agree-air-all-allow-almost-along-already-alright-also-although-always-america-amount-and-another-answer-any-apart-apparent-appear-apply-appoint-approach-appropriate-area-argue-arm-around-arrange-art-as-ask-associate-assume-at-attend-authority-available-aware-away-awful-baby-back-bad-bag-balance-ball-bank-bar-base-basis-be-bear-beat-beauty-because-become-bed-before-begin-behind-believe-benefit-best-bet-between-big-bill-birth-bit-black-bloke-blood-blow-blue-board-boat-body-book-both-bother-bottle-bottom-box-boy-break-brief-brilliant-bring-britain-brother-budget-build-bus-business-busy-but-buy-by-cake-call-can-car-card-care-carry-case-cat-catch-cause-cent-centre-certain-chair-chairman-chance-change-chap-character-charge-cheap-check-child-choice-choose-Christ-Christmas-church-city-claim-class-clean-clear-client-clock-close-closes-clothe-club-coffee-cold-colleague-collect-college-colour-come-comment-commit-committee-common-community-company-compare-complete-compute-concern-condition-confer-consider-consult-contact-continue-contract-control-converse-cook-copy-corner-correct-cost-could-council-count-country-county-couple-course-court-cover-create-cross-cup-current-cut-dad-danger-date-day-dead-deal-dear-debate-decide-decision-deep-definite-degree-department-depend-describe-design-detail-develop-die-difference-difficult-dinner-direct-discuss-district-divide-do-doctor-document-dog-door-double-doubt-down-draw-dress-drink-drive-drop-dry-due-during-each-early-east-easy-eat-economy-educate-effect-egg-eight-either-elect-electric-eleven-else-employ-encourage-end-engine-english-enjoy-enough-enter-environment-equal-especial-europe-even-evening-ever-every-evidence-exact-example-except-excuse-exercise-exist-expect-expense-experience-explain-express-extra-eye-face-fact-fair-fall-family-far-farm-fast-father-favour-feed-feel-few-field-fight-figure-file-fill-film-final-finance-find-fine-finish-fire-first-fish-fit-five-flat-floor-fly-follow-food-foot-for-force-forget-form-fortune-forward-four-france-free-friday-friend-from-front-full-fun-function-fund-further-future-game-garden-gas-general-germany-get-girl-give-glass-go-god-good-goodbye-govern-grand-grant-great-green-ground-group-grow-guess-guy-hair-half-hall-hand-hang-happen-happy-hard-hate-have-he-head-health-hear-heart-heat-heavy-hell-help-here-high-history-hit-hold-holiday-home-honest-hope-horse-hospital-hot-hour-house-how-however-hullo-hundred-husband-idea-identify-if-imagine-important-improve-in-include-income-increase-indeed-individual-industry-inform-inside-instead-insure-interest-into-introduce-invest-involve-issue-it-item-jesus-job-join-judge-jump-just-keep-key-kid-kill-kind-king-kitchen-knock-know-labour-lad-lady-land-language-large-last-late-laugh-law-lay-lead-learn-leave-left-leg-less-let-letter-level-lie-life-light-like-likely-limit-line-link-list-listen-little-live-load-local-lock-london-long-look-lord-lose-lot-love-low-luck-lunch-machine-main-major-make-man-manage-many-mark-market-marry-match-matter-may-maybe-mean-meaning-measure-meet-member-mention-middle-might-mile-milk-million-mind-minister-minus-minute-miss-mister-moment-monday-money-month-more-morning-most-mother-motion-move-mrs-much-music-must-name-nation-nature-near-necessary-need-never-new-news-next-nice-night-nine-no-non-none-normal-north-not-note-notice-now-number-obvious-occasion-odd-of-off-offer-office-often-okay-old-on-once-one-only-open-operate-opportunity-oppose-or-order-organize-original-other-otherwise-ought-out-over-own-pack-page-paint-pair-paper-paragraph-pardon-parent-park-part-particular-party-pass-past-pay-pence-pension-people-per-percent-perfect-perhaps-period-person-photograph-pick-picture-piece-place-plan-play-please-plus-point-police-policy-politic-poor-position-positive-possible-post-pound-power-practise-prepare-present-press-pressure-presume-pretty-previous-price-print-private-probable-problem-proceed-process-produce-product-programme-project-proper-propose-protect-provide-public-pull-purpose-push-put-quality-quarter-question-quick-quid-quiet-quite-radio-rail-raise-range-rate-rather-read-ready-real-realise-really-reason-receive-recent-reckon-recognize-recommend-record-red-reduce-refer-regard-region-relation-remember-report-represent-require-research-resource-respect-responsible-rest-result-return-rid-right-ring-rise-road-role-roll-room-round-rule-run-safe-sale-same-saturday-save-say-scheme-school-science-score-scotland-seat-second-secretary-section-secure-see-seem-self-sell-send-sense-separate-serious-serve-service-set-settle-seven-sex-shall-share-she-sheet-shoe-shoot-shop-short-should-show-shut-sick-side-sign-similar-simple-since-sing-single-sir-sister-sit-site-situate-six-size-sleep-slight-slow-small-smoke-so-social-society-some-son-soon-sorry-sort-sound-south-space-speak-special-specific-speed-spell-spend-square-staff-stage-stairs-stand-standard-start-state-station-stay-step-stick-still-stop-story-straight-strategy-street-strike-strong-structure-student-study-stuff-stupid-subject-succeed-such-sudden-suggest-suit-summer-sun-sunday-supply-support-suppose-sure-surprise-switch-system-table-take-talk-tape-tax-tea-teach-team-telephone-television-tell-ten-tend-term-terrible-test-than-thank-the-then-there-therefore-they-thing-think-thirteen-thirty-this-thou-though-thousand-three-through-throw-thursday-tie-time-to-today-together-tomorrow-tonight-too-top-total-touch-toward-town-trade-traffic-train-transport-travel-treat-tree-trouble-true-trust-try-tuesday-turn-twelve-twenty-two-type-under-understand-union-unit-unite-university-unless-until-up-upon-use-usual-value-various-very-video-view-village-visit-vote-wage-wait-walk-wall-want-war-warm-wash-waste-watch-water-way-we-wear-wednesday-wee-week-weigh-welcome-well-west-what-when-where-whether-which-while-white-who-whole-why-wide-wife-will-win-wind-window-wish-with-within-without-woman-wonder-wood-word-work-world-worry-worse-worth-would-write-wrong-year-yes-yesterday-yet-you-young&quot;</code></pre>
</section>
<section id="solutions-7" class="slide level2">
<h2>Solutions</h2>
<ol start="2" type="1">
<li>Split up a string like “apples, pears, and bananas” into individual words</li>
</ol>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb81-1" data-line-number="1">vec &lt;-<span class="st"> </span><span class="kw">str_split</span>(<span class="st">&quot;apples, pears, and bananas&quot;</span>, <span class="dt">pattern =</span> <span class="st">&quot;,&quot;</span>, <span class="dt">simplify=</span><span class="ot">TRUE</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb81-2" data-line-number="2"><span class="st">  </span><span class="kw">str_split</span>(<span class="dt">pattern =</span> <span class="st">&quot; &quot;</span>, <span class="dt">simplify=</span><span class="ot">TRUE</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb81-3" data-line-number="3"><span class="st">  </span>as.vector</a>
<a class="sourceLine" id="cb81-4" data-line-number="4"></a>
<a class="sourceLine" id="cb81-5" data-line-number="5">vec[<span class="kw">str_detect</span>(vec, <span class="st">&quot;[a-z]&quot;</span>)]</a></code></pre></div>
<pre><code>[1] &quot;apples&quot;  &quot;pears&quot;   &quot;and&quot;     &quot;bananas&quot;</code></pre>
</section>
    </div>
  </div>

  <script src="libs/reveal.js-3.3.0.1/lib/js/head.min.js"></script>
  <script src="libs/reveal.js-3.3.0.1/js/reveal.js"></script>

  <script>

      // Full list of configuration options available at:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        // Display the page number of the current slide
        slideNumber: true,
        // Push each slide change to the browser history
        history: true,
        // Vertical centering of slides
        center: false,
        // Opens links in an iframe preview overlay
        previewLinks: true,
        // Transition style
        transition: 'fade', // none/fade/slide/convex/concave/zoom
        // Transition style for full page slide backgrounds
        backgroundTransition: 'default', // none/fade/slide/convex/concave/zoom



        // Optional reveal.js plugins
        dependencies: [
        ]
      });
    </script>
  <!-- dynamically load mathjax for compatibility with self-contained -->
  <script>
    (function () {
      var script = document.createElement("script");
      script.type = "text/javascript";
      script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
      document.getElementsByTagName("head")[0].appendChild(script);
    })();
  </script>

<script>
  (function() {
    if (window.jQuery) {
      Reveal.addEventListener( 'slidechanged', function(event) {  
        window.jQuery(event.previousSlide).trigger('hidden');
        window.jQuery(event.currentSlide).trigger('shown');
      });
    }
  })();
</script>


  </body>
</html>
